{% extends 'lecturer/base_lecturer.html' %}
{% load static %}

{% block title %}{{ student.get_full_name }} - Full Details{% endblock %}

{% block lecturer_content %}
<div class="max-w-3xl mx-auto space-y-8 py-8">

  <a href="{% url 'lecturer:dashboard' %}" class="inline-flex items-center gap-2 text-blue-400 hover:underline text-sm mb-4">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
    Back to Dashboard
  </a>

  <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 shadow-xl p-8 flex flex-col md:flex-row items-center md:items-start gap-8">
    <!-- Profile Picture -->
    <div class="flex-shrink-0 mb-4 md:mb-0">
      {% if student.user.profile_picture %}
        <img src="{{ student.user.profile_picture.url }}" alt="Profile Picture" class="w-32 h-32 rounded-full object-cover border-4 border-white/20 shadow-lg" />
      {% else %}
        <div class="w-32 h-32 rounded-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center border-4 border-white/20 shadow-lg">
          <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
          </svg>
        </div>
      {% endif %}
    </div>
    <!-- Info -->
    <div class="flex-grow text-center md:text-left">
      <h1 class="text-3xl font-bold text-white mb-2">{{ student.user.get_full_name|default:"No Name Set" }}</h1>
      <div class="flex flex-wrap justify-center md:justify-start gap-2 mb-3">
        <span class="bg-emerald-600 px-3 py-1 rounded-full text-white text-xs font-medium">Student</span>
        {% if student.user.department %}
          <span class="bg-purple-600 px-3 py-1 rounded-full text-white text-xs font-medium">{{ student.user.department }}</span>
        {% endif %}
      </div>
      <div class="space-y-1 text-gray-200 text-sm">
        <p><strong>Email:</strong> {{ student.user.email }}</p>
        <p><strong>Phone:</strong> {{ student.user.phone_number|default:"Not provided" }}</p>
        <p><strong>Address:</strong> {{ student.user.address|default:"Not provided" }}</p>
        <p><strong>Department:</strong> {{ student.user.department|default:"Not provided" }}</p>
        <p>
          <strong>Latest Activity:</strong>
          {% if student.latest_activity %}
            {{ student.latest_activity|date:"M d, Y H:i" }}
          {% else %}
            <span class="italic text-gray-400">No activity recorded</span>
          {% endif %}
        </p>
      </div>
      <div class="flex flex-wrap gap-3 mt-6 justify-center md:justify-start">
        <a href="{% url 'lecturer:student_achievements' student.id %}" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold shadow transition">
          View Achievements
        </a>
        <a href="{% url 'lecturer:student_disciplinary_actions' student.id %}" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold shadow transition">
          View Disciplinary Actions
        </a>
        <a href="{% url 'lecturer:update_student_activity' student.id %}" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold shadow transition">
          Update Latest Activity
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
