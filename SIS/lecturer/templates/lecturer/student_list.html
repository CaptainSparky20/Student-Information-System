{% extends 'lecturer/base_lecturer.html' %}
{% load static %}

{% block title %}Students in {{ course.name }}{% endblock %}

{% block lecturer_content %}
<div class="max-w-5xl mx-auto p-8 bg-white/10 rounded-2xl border border-white/20 shadow-lg mt-10">
  <h1 class="text-3xl font-bold text-white mb-6">Students in {{ course.name }}</h1>

  {% if students %}
    <div class="overflow-x-auto">
      <table class="min-w-full border border-white/20 rounded-xl">
        <thead class="bg-white/10 text-white">
          <tr>
            <th class="border-b border-white/20 px-4 py-2 text-left">#</th>
            <th class="border-b border-white/20 px-4 py-2 text-left">Full Name</th>
            <th class="border-b border-white/20 px-4 py-2 text-left">Email</th>
            <th class="border-b border-white/20 px-4 py-2 text-left">Date Joined</th>
            <th class="border-b border-white/20 px-4 py-2 text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for student in students %}
            <tr class="odd:bg-white/5 even:bg-white/0 hover:bg-blue-600/10 transition">
              <td class="px-4 py-2 text-white">{{ forloop.counter }}</td>
              <td class="px-4 py-2 text-white">{{ student.get_full_name }}</td>
              <td class="px-4 py-2 text-white">{{ student.email }}</td>
              <td class="px-4 py-2 text-white">{{ student.date_joined|date:"M d, Y" }}</td>
              <td class="px-4 py-2 text-center">
                <a href="{% url 'lecturer:student_full_details' student.id %}"
                   class="inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition">
                  View Details
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-gray-300">No students found for this course.</p>
  {% endif %}
</div>
{% endblock %}
